@page "/sports"

<MudContainer MaxWidth="MaxWidth.Large">
    <MudGrid>
        <MudItem xs="12">
            <MudStack Row Wrap="Wrap.Wrap" Spacing="5" Class="pa-5" Justify="Justify.Center">
                <MudGrid>
                    <MudVirtualize Items="sports" Context="sportData">
                        <MudItem xs="12">
                            <style>
                                .my-panels .mud-expand-panel-header {
                                    padding: 0px;
                                }
                            </style>
                            <MudExpansionPanels Class="my-panels" Elevation="0" Dense="true">
                                <MudExpansionPanel Dense Style="padding: 0px;" HideIcon>
                                    <TitleContent>
                                        <MudPaper Elevation="0" Class="pa-3 ma-0 relative"
                                                  Style="@($"background-image: url('{GetBackgroundImageUrl(sportData)}'); background-size: cover; background-position: center; width: 100%")">
                                            <MudStack Style="position: absolute;
                                                 top: 0;
                                                 left: 0;
                                                 width: 100%;
                                                 height: 100%;
                                                 background-color: rgba(0, 0, 0, 0.80);z-index: 0" Class="rounded">
                                            </MudStack>
                                            <MudStack>
                                                <MudText Color="Color.Secondary" Typo="Typo.h2" Style="z-index: 1">
                                                    @sportData.Sport
                                                </MudText>
                                                <MudDivider Style="z-index: 1" />
                                                <MudStack Spacing="0" Style="z-index: 1">
                                                    <MudText Color="Color.Secondary" Style="font-size: 20px">Live Now</MudText>
                                                    <MudStack Class="flex-xs-column flex-md-row">
                                                        <MudButton Class="rounded-pill" Size="Size.Small" Variant="Variant.Filled" Style="color: black" EndIcon="@Icons.Material.Filled.Circle" IconColor="Color.Error" Color="Color.Secondary">
                                                            @sportData.LiveNow
                                                        </MudButton>
                                                        <MudSpacer />
                                                        <MudHidden Breakpoint="Breakpoint.MdAndUp">
                                                            <MudDivider />
                                                        </MudHidden>
                                                        <MudChip T="string" Color="Color.Secondary" Style="color: black;">Upcoming Schedule/s</MudChip>
                                                    </MudStack>
                                                </MudStack>
                                            </MudStack>
                                        </MudPaper>
                                    </TitleContent>
                                    <ChildContent>
                                        <MudStack>
                                            <MudDivider />
                                            <MudStack Style="z-index: 1" Class="pa-3">
                                                <MudText Color="Color.Primary" Style="font-size: 20px">Upcoming Schedule/s</MudText>
                                                <MudStack Row>
                                                    <MudButton DropShadow=false Class="rounded-pill" Variant="Variant.Filled" Style="color: white" Color="Color.Primary">
                                                        @sportData.Upcoming
                                                    </MudButton>
                                                </MudStack>
                                            </MudStack>
                                        </MudStack>
                                    </ChildContent>
                                </MudExpansionPanel>
                            </MudExpansionPanels>
                        </MudItem>
                    </MudVirtualize>
                </MudGrid>
            </MudStack>
        </MudItem>
        <MudItem xs="12">
            <UnderConstruction />
        </MudItem>
    </MudGrid>
</MudContainer>

<FooterComponent />
@code {

    private string GetBackgroundImageUrl(SportData sportData)
    {
        return $"Media/Sports/{sportData.Sport}.jpg";
    }

    private List<SportData> sports = new()
    {
        new SportData("Basketball", "Region XIII vs NCR", "BARMM vs Region 1"),
        new SportData("Baseball", "Region XIII vs NCR", "BARMM vs Region 2"),
        new SportData("Taekwondo", "Region XIII vs NCR", "BARMM vs Region 3"),
        new SportData("Badminton", "Region XIII vs NCR", "BARMM vs Region 4"),
        new SportData("Volleyball", "Region XIII vs NCR", "BARMM vs Region 5"),
        new SportData("Gymnastics", "Region XIII vs NCR", "BARMM vs Region 6"),
        new SportData("Arnis", "Region XIII vs NCR", "BARMM vs Region 7"),
        new SportData("Athletics", "Region XIII vs NCR", "BARMM vs Region 8"),
        new SportData("Football", "Region XIII vs NCR", "BARMM vs Region 9"),
        new SportData("Takraw", "Region XIII vs NCR", "BARMM vs Region 10"),
        new SportData("Swimming", "Region XIII vs NCR", "BARMM vs Region 11"),
        new SportData("Wrestling", "Region XIII vs NCR", "BARMM vs Region 12"),
        new SportData("Throwing", "Region XIII vs NCR", "BARMM vs Region 13"),
    };

    private class SportData
    {
        public string Sport { get; set; }
        public string LiveNow { get; set; }
        public string Upcoming { get; set; }

        public SportData(string sport, string liveNow, string upcoming)
        {
            Sport = sport;
            LiveNow = liveNow;
            Upcoming = upcoming;
        }
    }
}
