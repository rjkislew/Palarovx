@inherits LayoutComponentBase
@inject IJSRuntime JSRuntime
@inject IDialogService DialogService

@* Required *@
<MudThemeProvider Theme="PGASTheme" DefaultScrollbar="true" />
<MudPopoverProvider />

@* Needed for dialogs *@
<MudDialogProvider />

@* Needed for snackbars *@
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="0" Fixed Gutters="false" Class="px-3">
        <MudStack Row AlignItems="AlignItems.Center">
            <MudStack Row Spacing="2">
                <MudText Style="font-family: 'Bebas'; font-size: 30px; margin-bottom: -10px; margin-top: -8px;" Color="Color.Primary">PALARONG PAMBANSA</MudText>
                <MudDivider Vertical FlexItem Class="border-2 mud-border-tertiary" />
                <MudText Style="font-family: 'Bebas'; font-size: 30px; margin-bottom: -10px; margin-top: -8px;" Color="Color.Secondary">2024</MudText>
            </MudStack>
            <MudNavMenu Color="Color.Tertiary">
                <MudStack Row Spacing="1">
                    <MudButton Style="text-transform:none" Href="./">Home</MudButton>
                    <MudButton Style="text-transform:none" Href="./sports">Sports</MudButton>
                    <MudButton Style="text-transform:none" Href="./Venues">Venues</MudButton>
                    <MudButton Style="text-transform:none" Href="./schedules">Schedules</MudButton>
                    <MudButton Style="text-transform:none" Href="./medal-tally">Tally</MudButton>
                    <MudButton Style="text-transform:none" Href="./news-and-highlights">News</MudButton>
                </MudStack>
            </MudNavMenu>
        </MudStack>
        <MudSpacer />
        <MudStack Row AlignItems="AlignItems.Center" Spacing="2">
            <MudStack Row>
                <MudButton Style="text-transform:none" Href="./billeting-quarters">Billeting</MudButton>
                <MudButton Style="text-transform:none" Href="#">Tourism</MudButton>
                <MudButton Style="text-transform:none" Href="#">Accommodations</MudButton>
            </MudStack>
            <MudIconButton Class="pa-1" OnClick="OpenDialogAsync" Color="Color.Primary" Icon="@Icons.Material.Filled.Login">
            </MudIconButton>
        </MudStack>
    </MudAppBar>
    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

@code {
    bool _drawerOpen = true;

    private Task OpenDialogAsync()
    {
        var options = new DialogOptions { CloseOnEscapeKey = true, NoHeader = true };

        return DialogService.ShowAsync<Dialogs.UserLogin>("Simple Dialog", options);
    }

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
        // Trigger the resize of the map whenever the drawer is toggled
        _ = JSRuntime.InvokeVoidAsync("resizeMap");
    }

    private MudTheme PGASTheme = new MudTheme()
        {
            Typography = new Typography()
            {
                Default = new Default()
                {
                    FontFamily = new[] { "Poppins" },
                },
                H1 = new H1()
                {
                    FontFamily = new[] { "Bebas" },
                    FontSize = "110px",
                    LetterSpacing = "1px",
                    LineHeight = 1
                },
                H2 = new H2()
                {
                    FontFamily = new[] { "Bebas" },
                    LetterSpacing = "2px"
                },
                H3 = new H3()
                {
                    FontFamily = new[] { "Bebas" },
                    FontSize = "25px",
                    LetterSpacing = "2px"
                }
            },
            PaletteLight = new PaletteLight()
            {
                Primary = Colors.Blue.Accent3,
                Secondary = Colors.Orange.Accent4,
                Tertiary = Colors.Gray.Darken4,
                Background = Colors.Gray.Lighten4,
                AppbarBackground = Colors.Shades.White,
                DrawerBackground = Colors.Shades.White,
            },
            PaletteDark = new PaletteDark()
            {
                Primary = Colors.Blue.Accent3,
                Secondary = Colors.Orange.Accent4,
                Tertiary = Colors.Shades.White,
                AppbarBackground = Colors.Gray.Darken4,
                DrawerBackground = Colors.Gray.Darken4,
                Background = Colors.Gray.Darken4,
                Surface = Colors.Gray.Darken4,
            },
            LayoutProperties = new LayoutProperties()
            {
                DrawerWidthLeft = "300px",
            }
        };
}
